(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-394cae5c"],{1202:function(t,n,e){},"2c00":function(t,n,e){"use strict";e("1202")},"810f":function(t,n,e){"use strict";e.r(n);var r,a,c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"text-center",attrs:{id:"buttons"}},[e("div",[e("chart",{attrs:{"chart-data":t.chartData}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading_graphic,expression:"loading_graphic"}],staticClass:"h3 text-info"},[t._v("Data loading ...")])],1),e("div",{staticClass:"text-center h5 mt-4"},[t._v(t._s(t.totalAmount))]),e("div",{staticClass:"text-center h5 mt-4"},[t._v(t._s(t.totalAccounts))]),e("b-table",{attrs:{fixed:"",striped:"",hover:"",items:t.items}})],1)},o=[],u=e("1da1"),s=(e("96cf"),e("1fca")),i=s["e"].reactiveProp,l={extends:s["c"],mixins:[i],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{fontSize:25}}}}},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.renderChart(t.chartData,t.options);case 1:case"end":return n.stop()}}),n)})))()}},f=l,d=e("2877"),p=Object(d["a"])(f,r,a,!1,null,null,null),h=p.exports,g=e("e151"),v={data:function(){return{chartData:null,loading_graphic:!0,loading_table:!0,totalAmount:null,totalAccounts:null}},components:{chart:h},mounted:function(){var t=this;Object(g["coldTons"])().then((function(n){t.chartData=n,t.loading_graphic=!1})),Object(g["coldTonsSum"])().then((function(n){t.totalAmount="Total amount: ".concat(n," tons")})),Object(g["coldTonsAccounts"])().then((function(n){t.items=n})),Object(g["totalAccountsCount"])().then((function(n){t.totalAccounts="Total accounts: ".concat(n)}))}},m=v,b=(e("2c00"),Object(d["a"])(m,c,o,!1,null,"387cc622",null));n["default"]=b.exports},bbac:function(t,n,e){"use strict";function r(t,n,e){const r=e||".";let c;{let n;switch(typeof t){case"string":if(t.length<("-"===t[0]?5:4))return t;c=t,n=Number("."!==r?c.replace(r,"."):c);break;case"number":c=String(t),n=t,"."===r||Number.isInteger(t)||(c=c.replace(".",r));break;default:return t}if(-1e3<n&&n<1e3||isNaN(n)||!isFinite(n))return c}{const t=c.lastIndexOf(r);let e;t>-1&&(e=c.slice(t),c=c.slice(0,t));const o=a(c,n||",");return e&&o.push(e),o.join("")}}function a(t,n){let e=(t.length-1)%3+1;1===e&&"-"===t[0]&&(e=4);const r=[t.slice(0,e)];for(;e<t.length;e+=3)r.push(n,t.substr(e,3));return r}function c(t,n){return function(e){return r(e,t,n)}}t.exports=r,t.exports.bindWith=c},e151:function(t,n,e){var r=e("278c").default,a=e("c973").default;e("96cf"),e("99af"),e("4fad"),e("ac1f"),e("1276"),e("d81d");var c=e("0dff"),o=c.client,u=e("f62d"),s=e("bbac");function i(){for(var t="{",n=30;n>=0;n--){var e=u.now-n*u.oneWeek,r=e-u.oneWeek;t+="      \n        data_".concat(e,": aggregateAccounts(\n            filter:{      \n              acc_type: {\n                ne: 1\n              }\n              last_paid:{\n                gt: ").concat(r,"  lt: ").concat(e,'\n              }\n            }\n            fields:[\n              {field: "balance", fn: SUM}\n            ]\n          )         \n          ')}return t+="}",t}var l=function(){var t=a(regeneratorRuntime.mark((function t(){var n,e,a,c,s,l,f,d,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e=[],t.prev=2,t.next=5,o.net.query({query:i()});case 5:for(a=t.sent.result.data,c=0,s=Object.entries(a);c<s.length;c++)l=r(s[c],2),f=l[0],d=l[1],n.push(Math.round(d[0]/u.oneTon)),p=f.split("_")[1],h=new Date(1e3*p).toLocaleDateString("ru-RU"),e.push(h);return t.abrupt("return",{datasets:[{label:"Cold EVERs",backgroundColor:u.getRandomColor(),data:n}],labels:e});case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.net.query({query:'        \n            {aggregateAccounts(\n            filter:{      \n              acc_type: {\n                ne: 1\n              }              \n            }\n            fields:[\n              {field: "balance", fn: SUM}\n            ]\n          )}\n        '});case 3:return n=t.sent.result.data.aggregateAccounts[0],t.abrupt("return",s(Math.round(n/u.oneTon)));case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.net.query({query:'        \n            {aggregateAccounts(\n            filter:{      \n              acc_type: {\n                ne: 1\n              }              \n            }\n            fields:[\n              {field: "balance", fn: COUNT}\n            ]\n          )}\n        '});case 3:return t.abrupt("return",t.sent.result.data.aggregateAccounts[0]);case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=a(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.net.query({query:'        \n        query{\n            accounts(filter:{\n              acc_type:{\n                ne: 1\n              }\n            }\n            orderBy:{\n              path: "balance",\n              direction: DESC\n            }){\n              id\n              balance(format:DEC)\n            }\n          }          \n        '});case 3:return n=t.sent.result.data.accounts,t.abrupt("return",n.map((function(t){return{Address:t.id,Balance:"".concat(s(Math.round(t.balance/u.oneTon))," tons")}})));case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t.exports={coldTons:l,coldTonsSum:f,coldTonsAccounts:p,totalAccountsCount:d}}}]);
//# sourceMappingURL=chunk-394cae5c.eacfb671.js.map